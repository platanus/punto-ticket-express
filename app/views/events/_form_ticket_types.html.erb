<fieldset class="form-horizontal">
	<legend><%= t(".title") %></legend>

	<bs:control-group bound-cg label="<%= Event.human_attribute_name :sell_limit %>">
		<input type="number" name="event[sell_limit]" ng-model="event.sellLimit"
			ng-disabled="{{disabled}}" class="span4"
			dirty-on-blur min="0"/>
	</bs:control-group>

	<bs:control-group>
		<button type="button" class="btn btn-success"
			ng-click="addTicket()" ng-disabled="{{disabled}}"><%= t("buttons.add_ticket") %></button>
	</bs:control-group>

	<bs:control-group>
		<input type="checkbox" ng-model="fee.include"><%= t(".include_fee_message") %></input>
	</bs:control-group>

	<table class="table table-bordered" ng-animate="{show: 'event-show', hide: 'event-hide'}" ng-show="tickets.length">
		<thead>
			<tr>
				<th><%= TicketType.human_attribute_name :name %></th>
				<th><%= TicketType.human_attribute_name :quantity %></th>
				<th ng-if="fee.include"><%= TicketType.human_attribute_name :price_before_fee %></th>
				<th><%= TicketType.human_attribute_name :price %></th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="ticket in tickets">
				<td>
					<input ng-model="ticket.name" type="text"
						ng-class="{'input-large': fee.include}" class="span4" required />
				</td>
				<td>
					<input ng-model="ticket.quantity" type="text" class="input-small" required />
				</td>
				<td ng-if="fee.include">
					<input ng-model="ticket.priceBeforeFee" type="text" class="input-small"
						ng-change="calculateTicketPrice(ticket)" />
				</td>
				<td>
					<input ng-model="ticket.price" type="text"
						class="input-small" ng-readonly="fee.include" required />
				</td>
				<td>
					<a class="close" ng-click="deleteTicket($index)" remove-nested-attribute>Ã—</a>
				</td>
			</tr>
		</tbody>
	</table>
</fieldset>